"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}var hexToRgb=function(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,o,r){return t+t+o+o+r+r});var o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return o?{r:parseInt(o[1],16),g:parseInt(o[2],16),b:parseInt(o[3],16)}:null},lightenDarkenColor=function(e,t){var o=!1;"#"==e[0]&&(e=e.slice(1),o=!0);var r=parseInt(e,16),l=(r>>16)+t;l>255?l=255:l<0&&(l=0);var u=(r>>8&255)+t;u>255?u=255:u<0&&(u=0);var n=(255&r)+t;return n>255?n=255:n<0&&(n=0),(o?"#":"")+String("000000"+(n|u<<8|l<<16).toString(16)).slice(-6)},rgbToHex=function(e){return e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i),e&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""},checksRGB=function(e){return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)},getColorObject=function(e){var t={r:checksRGB(e.r/255),g:checksRGB(e.g/255),b:checksRGB(e.b/255)};return t},calculateRatio=function(e,t){var o=getColorObject(e),r=getColorObject(t),l=.2126*o.r+.7152*o.g+.0722*o.b,u=.2126*r.r+.7152*r.g+.0722*r.b;return l>u?(l+.05)/(u+.05):(u+.05)/(l+.05)},contrast=function(e){var t=Math.round((299*e.r+587*e.g+114*e.b)/1e3),o=Math.round(255);return Math.abs(t)<o/2?"#FFFFFF":"#000000"},updateAll=function(){document.querySelector("[data-color-one]").querySelector(".color__hex").style.backgroundColor=document.querySelector("#color1").value,document.querySelector("[data-color-two]").querySelector(".color__hex").style.backgroundColor=document.querySelector("#color2").value,document.querySelector("#color1").style.backgroundColor=document.querySelector("#color2").value,document.querySelector("#color2").style.backgroundColor=document.querySelector("#color1").value,document.querySelector("#color2").style.color=document.querySelector("#color2").value,document.querySelector("#color1").style.color=document.querySelector("#color1").value,document.querySelector(".color1").style.backgroundColor=document.querySelector("#color1").value,document.querySelector(".color2").style.backgroundColor=document.querySelector("#color2").value,document.querySelector(".color1 .text-box").style.backgroundColor=document.querySelector("#color2").value,document.querySelector(".color1 .text-box").style.color=document.querySelector("#color1").value,document.querySelector(".color2 .text-box").style.backgroundColor=document.querySelector("#color1").value,document.querySelector(".color2 .text-box").style.color=document.querySelector("#color2").value;var e=hexToRgb(document.querySelector("#color1").value),t=hexToRgb(document.querySelector("#color2").value),o=document.querySelector(".score").querySelector(".message"),r=document.querySelector(".score").querySelector(".verdict");calculateRatio(e,t).toFixed(2)>4.5?(document.querySelector(".score").querySelector(".numbers").innerHTML='Contrast Ratio: <span class="approved">'+calculateRatio(t,e).toFixed(2)+"</span>",r.textContent="Yes, go for it.",o.innerHTML="You can use <span>"+document.querySelector("#color1").value+"</span> with <span>"+document.querySelector("#color2").value+"</span>."):calculateRatio(e,t).toFixed(2)<5&&calculateRatio(e,t).toFixed(2)>4.5?(document.querySelector(".score").querySelector(".numbers").innerHTML='Contrast Ratio: <span class="approved">'+calculateRatio(t,e).toFixed(2)+"</span>",r.textContent="Yes, but use with caution.",o.innerHTML="You can use <span>"+document.querySelector("#color1").value+"</span> with <span>"+document.querySelector("#color2").value+"</span>, but you're close to 4.5 so consider making some adjustments."):calculateRatio(e,t).toFixed(2)<4.5&&calculateRatio(e,t).toFixed(2)>4?(document.querySelector(".score").querySelector(".numbers").innerHTML='Contrast Ratio: <span class="nope">'+calculateRatio(t,e).toFixed(2)+"</span>",r.textContent="No, but very close.",o.innerHTML="You can't use <span>"+document.querySelector("#color1").value+"</span> with <span>"+document.querySelector("#color2").value+"</span>.<br />You're close to 4.5, so try a darker or lighter variation of a color."):(document.querySelector(".score").querySelector(".numbers").innerHTML='Contrast Ratio: <span class="nope">'+calculateRatio(t,e).toFixed(2)+"</span>",r.textContent="No.",o.innerHTML="You can't use <span>"+document.querySelector("#color1").value+"</span> with <span>"+document.querySelector("#color2").value+"</span>.")},clickHandler=function(e,t,o){e.stopPropagation(),console.log(o);var r=lightenDarkenColor(o,t);e.currentTarget.parentElement.parentElement.querySelector("input").value=r,"one"===e.target.parentElement.parentElement.querySelector("input").dataset.colorInput?document.querySelector("#color1").value=e.currentTarget.parentElement.parentElement.querySelector("input").value:document.querySelector("#color2").value=e.currentTarget.parentElement.parentElement.querySelector("input").value,updateAll()};window.onload=function(){updateAll();var e=document.querySelector("#color1-small"),t=document.querySelector("#color2-small"),o=document.querySelector("#color1"),r=document.querySelector("#color2"),l=document.querySelector("#color1-small").value,u=document.querySelector("#color2-small").value;""===e.value&&(e.value=o.value),""===t.value&&(t.value=r.value),e.addEventListener("input",function(){"#"!==e.value.substring(0,1)&&(e.value="#"+e.value),"#"!==o.value.substring(0,1)&&(o.value="#"+o.value),o.value=e.value,l=o.value,updateAll()}),t.addEventListener("input",function(){"#"!==t.value.substring(0,1)&&(t.value="#"+t.value),"#"!==r.value.substring(0,1)&&(r.value="#"+r.value),r.value=t.value,u=r.value,updateAll()}),o.addEventListener("input",function(){"#"!==e.value.substring(0,1)&&(e.value="#"+e.value),"#"!==o.value.substring(0,1)&&(o.value="#"+o.value),e.value=o.value,l=e.value,updateAll()}),r.addEventListener("input",function(){"#"!==t.value.substring(0,1)&&(t.value="#"+t.value),"#"!==r.value.substring(0,1)&&(r.value="#"+r.value),t.value=r.value,u=t.value,updateAll()}),[].concat(_toConsumableArray(document.querySelectorAll('input[type="text"]'))).forEach(function(e){e.addEventListener("focus",function(){e.setSelectionRange(0,e.value.length)}),e.addEventListener("blur",function(){0!==e.value&&"#"!==e.value.substring(0,1)&&(e.value="#"+e.value)})});var n=0,c=0;document.querySelector("[data-adjust-darken-one]").addEventListener("click",function(e){n-=5,clickHandler(e,n,l)}),document.querySelector("[data-adjust-lighten-one]").addEventListener("click",function(e){n+=5,clickHandler(e,n,l)}),document.querySelector("[data-adjust-darken-two]").addEventListener("click",function(e){c-=5,clickHandler(e,c,u)}),document.querySelector("[data-adjust-lighten-two]").addEventListener("click",function(e){c+=5,clickHandler(e,c,u)})};