"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var o=0,r=Array(e.length);o<e.length;o++)r[o]=e[o];return r}return Array.from(e)}function LightenDarkenColor(e,o){var r=!1;"#"==e[0]&&(e=e.slice(1),r=!0);var n=parseInt(e,16),t=(n>>16)+o;t>255?t=255:t<0&&(t=0);var a=(n>>8&255)+o;a>255?a=255:a<0&&(a=0);var l=(255&n)+o;return l>255?l=255:l<0&&(l=0),(r?"#":"")+String("000000"+(l|a<<8|t<<16).toString(16)).slice(-6)}var hexToRgb=function(e){var o=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(o,function(e,o,r,n){return o+o+r+r+n+n});var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return r?{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16)}:null},rgbToHex=function(e){return e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i),e&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""},checksRGB=function(e){return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)},calculateRatio=function(e,o){var r=e.r/255,n=e.g/255,t=e.b/255,a=o.r/255,l=o.g/255,c=o.b/255,u=checksRGB(r),s=checksRGB(n),i=checksRGB(t),p=checksRGB(a),d=checksRGB(l),v=checksRGB(c),x=.2126*u+.7152*s+.0722*i,g=.2126*p+.7152*d+.0722*v;return x>g?(x+.05)/(g+.05):(g+.05)/(x+.05)},contrast=function(e){var o=Math.round((299*e.r+587*e.g+114*e.b)/1e3),r=Math.round(255);return Math.abs(o)<r/2?"#FFFFFF":"#000000"},colorOne=document.querySelector("#color1"),colorTwo=document.querySelector("#color2"),colorOneContainer=document.querySelector(".color1"),colorTwoContainer=document.querySelector(".color2"),colorOneTextBox=document.querySelector(".color1 .text-box"),colorTwoTextBox=document.querySelector(".color2 .text-box"),scoreBox=document.querySelector(".score"),colorOneRange=colorOneContainer.querySelector(".input-range"),colorTwoRange=colorTwoContainer.querySelector(".input-range"),updateAll=function(){colorOneContainer.style.backgroundColor=colorOne.value,colorTwoContainer.style.backgroundColor=colorTwo.value,colorOneTextBox.style.backgroundColor=colorTwo.value,colorOneTextBox.style.color=colorOne.value,colorTwoTextBox.style.backgroundColor=colorOne.value,colorTwoTextBox.style.color=colorTwo.value;var e=hexToRgb(colorOne.value),o=hexToRgb(colorTwo.value);colorOneRange.style.color=contrast(e),colorTwoRange.style.color=contrast(o);var r=scoreBox.querySelector(".message"),n=scoreBox.querySelector(".verdict");calculateRatio(e,o).toFixed(2)>4.5?(scoreBox.querySelector(".numbers").innerHTML='Contrast Ratio: <span class="approved">'+calculateRatio(o,e).toFixed(2)+"</span>",n.textContent="Yes, go for it.",r.innerHTML="You can indeed use <span>"+colorOne.value+"</span> with <span>"+colorTwo.value+'</span>.<br><br><a href="#" class="verdict-link">Learn More</a>'):calculateRatio(e,o).toFixed(2)<5&&calculateRatio(e,o).toFixed(2)>4.5?(scoreBox.querySelector(".numbers").innerHTML='Contrast Ratio: <span class="approved">'+calculateRatio(o,e).toFixed(2)+"</span>",n.textContent="Yes, but use with caution.",r.innerHTML="You can use <span>"+colorOne.value+"</span> with <span>"+colorTwo.value+'</span>, but you\'re close to 4.5 so consider making some adjustments.<br><br><a href="#" class="verdict-link">Explain please?</a>'):calculateRatio(e,o).toFixed(2)<4.5&&calculateRatio(e,o).toFixed(2)>4?(scoreBox.querySelector(".numbers").innerHTML='Contrast Ratio: <span class="nope">'+calculateRatio(o,e).toFixed(2)+"</span>",n.textContent="No, but very close.",r.innerHTML="You <span>can't</span> use <span>"+colorOne.value+"</span> with <span>"+colorTwo.value+'</span>.<br />You\'re close to 4.5, so try a darker or lighter variation of a color.<br><br><a href="#" class="verdict-link">Explain please?</a>'):(scoreBox.querySelector(".numbers").innerHTML='Contrast Ratio: <span class="nope">'+calculateRatio(o,e).toFixed(2)+"</span>",n.textContent="No.",r.innerHTML="You <span>can't</span> use <span>"+colorOne.value+"</span> with <span>"+colorTwo.value+'</span>.<br><br><a href="#" class="verdict-link">Why not?</a>')};window.onload=function(){updateAll(),[].concat(_toConsumableArray(document.querySelectorAll('input[type="text"]'))).forEach(function(e){e.addEventListener("focus",function(){e.setSelectionRange(0,e.value.length)}),e.addEventListener("blur",function(){0!==e.value&&"#"!==e.value.substring(0,1)&&(e.value="#"+e.value)}),e.addEventListener("change",function(){"#"!==e.value.substring(0,1)&&(e.value="#"+e.value),e.parentElement.parentElement.querySelector(".input-adjust").value="0",updateAll()})}),[].concat(_toConsumableArray(document.querySelectorAll('input[type="range"]'))).forEach(function(e){var o=parseInt(e.value),r=void 0;e.addEventListener("focus",function(n){console.log("hello"),0===o&&(r=e.parentElement.parentElement.querySelector(".colorInput").value)}),e.addEventListener("input",function(o){var n=parseInt(e.value),t=void 0,a=0;0!==n&&(n>0?a=0+n:n<0&&(a=0+n)),console.log(r),n>0?t=LightenDarkenColor(r,a):n<0?t=LightenDarkenColor(r,a):0===n&&(t=LightenDarkenColor(r,0)),e.parentElement.parentElement.querySelector(".colorInput").value=t,updateAll()})})};