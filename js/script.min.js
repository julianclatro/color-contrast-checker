"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var hexToRgb=function(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,r,o){return t+t+r+r+o+o});var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return r?{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16)}:null},lightenDarkenColor=function(e,t){var r=!1;"#"==e[0]&&(e=e.slice(1),r=!0);var o=parseInt(e,16),n=(o>>16)+t;n>255?n=255:n<0&&(n=0);var a=(o>>8&255)+t;a>255?a=255:a<0&&(a=0);var c=(255&o)+t;return c>255?c=255:c<0&&(c=0),(r?"#":"")+String("000000"+(c|a<<8|n<<16).toString(16)).slice(-6)},rgbToHex=function(e){return e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i),e&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""},checksRGB=function(e){return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)},getColorObject=function(e){var t={r:checksRGB(e.r/255),g:checksRGB(e.g/255),b:checksRGB(e.b/255)};return t},calculateRatio=function(e,t){var r=getColorObject(e),o=getColorObject(t),n=.2126*r.r+.7152*r.g+.0722*r.b,a=.2126*o.r+.7152*o.g+.0722*o.b;return n>a?(n+.05)/(a+.05):(a+.05)/(n+.05)},contrast=function(e){var t=Math.round((299*e.r+587*e.g+114*e.b)/1e3),r=Math.round(255);return Math.abs(t)<r/2?"#FFFFFF":"#000000"},updateAll=function(){document.querySelector(".color1").style.backgroundColor=document.querySelector("#color1").value,document.querySelector(".color2").style.backgroundColor=document.querySelector("#color2").value,document.querySelector(".color1 .text-box").style.backgroundColor=document.querySelector("#color2").value,document.querySelector(".color1 .text-box").style.color=document.querySelector("#color1").value,document.querySelector(".color2 .text-box").style.backgroundColor=document.querySelector("#color1").value,document.querySelector(".color2 .text-box").style.color=document.querySelector("#color2").value;var e=hexToRgb(document.querySelector("#color1").value),t=hexToRgb(document.querySelector("#color2").value);document.querySelector(".color1").querySelector(".input-range").style.color=contrast(e),document.querySelector(".color2").querySelector(".input-range").style.color=contrast(t);var r=document.querySelector(".score").querySelector(".message"),o=document.querySelector(".score").querySelector(".verdict");calculateRatio(e,t).toFixed(2)>4.5?(document.querySelector(".score").querySelector(".numbers").innerHTML='Contrast Ratio: <span class="approved">'+calculateRatio(t,e).toFixed(2)+"</span>",o.textContent="Yes, go for it.",r.innerHTML="You can indeed use <span>"+document.querySelector("#color1").value+"</span> with <span>"+document.querySelector("#color2").value+'</span>.<br><br><a href="#" class="verdict-link">Learn More</a>'):calculateRatio(e,t).toFixed(2)<5&&calculateRatio(e,t).toFixed(2)>4.5?(scoreBox.querySelector(".numbers").innerHTML='Contrast Ratio: <span class="approved">'+calculateRatio(t,e).toFixed(2)+"</span>",o.textContent="Yes, but use with caution.",r.innerHTML="You can use <span>"+document.querySelector("#color1").value+"</span> with <span>"+document.querySelector("#color2").value+'</span>, but you\'re close to 4.5 so consider making some adjustments.<br><br><a href="#" class="verdict-link">Explain please?</a>'):calculateRatio(e,t).toFixed(2)<4.5&&calculateRatio(e,t).toFixed(2)>4?(scoreBox.querySelector(".numbers").innerHTML='Contrast Ratio: <span class="nope">'+calculateRatio(t,e).toFixed(2)+"</span>",o.textContent="No, but very close.",r.innerHTML="You <span>can't</span> use <span>"+document.querySelector("#color1").value+"</span> with <span>"+document.querySelector("#color2").value+'</span>.<br />You\'re close to 4.5, so try a darker or lighter variation of a color.<br><br><a href="#" class="verdict-link">Explain please?</a>'):(scoreBox.querySelector(".numbers").innerHTML='Contrast Ratio: <span class="nope">'+calculateRatio(t,e).toFixed(2)+"</span>",o.textContent="No.",r.innerHTML="You <span>can't</span> use <span>"+document.querySelector("#color1").value+"</span> with <span>"+document.querySelector("#color2").value+'</span>.<br><br><a href="#" class="verdict-link">Why not?</a>')};window.onload=function(){updateAll(),[].concat(_toConsumableArray(document.querySelectorAll('input[type="text"]'))).forEach(function(e){e.addEventListener("focus",function(){e.setSelectionRange(0,e.value.length)}),e.addEventListener("blur",function(){0!==e.value&&"#"!==e.value.substring(0,1)&&(e.value="#"+e.value)}),e.addEventListener("change",function(){"#"!==e.value.substring(0,1)&&(e.value="#"+e.value),e.parentElement.parentElement.querySelector(".input-adjust").value="0",updateAll()})}),[].concat(_toConsumableArray(document.querySelectorAll('input[type="range"]'))).forEach(function(e){var t=parseInt(e.value),r=void 0;e.addEventListener("focus",function(o){0===t&&(r=e.parentElement.parentElement.querySelector(".colorInput").value)}),e.addEventListener("input",function(t){var o=parseInt(e.value),n=void 0,a=0;0!==o&&(o>0?a=0+o:o<0&&(a=0+o)),o>0?n=lightenDarkenColor(r,a):o<0?n=lightenDarkenColor(r,a):0===o&&(n=lightenDarkenColor(r,0)),e.parentElement.parentElement.querySelector(".colorInput").value=n,updateAll()})})};