"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var hexToRgb=function(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,r,a){return t+t+r+r+a+a});var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return r?{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16)}:null},rgbToHex=function(e){return e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i),e&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""},lightenDarkenColor=function(e,t){var r=!1;"#"==e[0]&&(e=e.slice(1),r=!0);var a=parseInt(e,16),n=(a>>16)+t;n>255?n=255:n<0&&(n=0);var l=(a>>8&255)+t;l>255?l=255:l<0&&(l=0);var o=(255&a)+t;return o>255?o=255:o<0&&(o=0),(r?"#":"")+String("000000"+(o|l<<8|n<<16).toString(16)).slice(-6)},checksRGB=function(e){return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)},getColorObject=function(e){var t={r:checksRGB(e.r/255),g:checksRGB(e.g/255),b:checksRGB(e.b/255)};return t},calculateRatio=function(e,t){var r=getColorObject(e),a=getColorObject(t),n=.2126*r.r+.7152*r.g+.0722*r.b,l=.2126*a.r+.7152*a.g+.0722*a.b;return n>l?(n+.05)/(l+.05):(l+.05)/(n+.05)},updateAll=function(){var e=document.querySelector("#color1-value").value,t=document.querySelector("#color2-value").value,r=document.querySelector("[data-color-one]"),a=document.querySelector("[data-color-two]"),n=r.querySelector(".text-box"),l=a.querySelector(".text-box"),o=document.querySelector(".sidebar__score--ratio"),s=hexToRgb(e),c=hexToRgb(t);r.style.backgroundColor=e,a.style.backgroundColor=t,n.style.backgroundColor=t,l.style.backgroundColor=e,r.style.color=e,a.style.color=t,s&&c&&(calculateRatio(s,c).toFixed(2)>4.5?o.innerHTML='Contrast Ratio: <span class="approved">'+calculateRatio(c,s).toFixed(2)+"</span>":o.innerHTML='Contrast Ratio: <span class="nope">'+calculateRatio(c,s).toFixed(2)+"</span>")},clickHandler=function(e,t,r){if(e.stopPropagation(),4===r.length){var a=r.split("");r=a[0]+a[1]+a[1]+a[2]+a[2]+a[3]+a[3]}var n=lightenDarkenColor(r,t);e.currentTarget.parentElement.parentElement.querySelector("input").value=n,updateAll()};window.onload=function(){var e=document.querySelector("[data-launch-widget]");e.addEventListener("click",function(e){window.open("https://marijohannessen.github.io/color-contrast-checker/","","width=390, height=450, menubar=no, resizable=no")});var t=document.querySelector("#color1-value"),r=document.querySelector("#color2-value"),a=t.value,n=r.value;t.value.length>2&&r.value.length>2&&updateAll(),[].concat(_toConsumableArray(document.querySelectorAll('input[type="text"]'))).forEach(function(e){e.addEventListener("focus",function(){e.setSelectionRange(0,e.value.length)}),e.addEventListener("blur",function(){0!==e.value&&"#"!==e.value.substring(0,1)&&(e.value="#"+e.value)}),e.addEventListener("change",function(){"#"!==e.value.substring(0,1)&&(e.value="#"+e.value),updateAll()})}),t.addEventListener("input",function(){"#"!==t.value.substring(0,1)&&(t.value="#"+t.value),t.value.length>2&&(a=t.value,updateAll())}),r.addEventListener("input",function(){"#"!==r.value.substring(0,1)&&(r.value="#"+r.value),r.value.length>2&&(n=r.value,updateAll())});var l=0,o=0;document.querySelector("[data-undo-one]").addEventListener("click",function(e){t.value=a,updateAll(),e.currentTarget.classList.remove("is-shown"),l=0}),document.querySelector("[data-undo-two]").addEventListener("click",function(e){r.value=n,updateAll(),e.currentTarget.classList.remove("is-shown"),o=0}),document.querySelector("[data-adjust-darken-one]").addEventListener("click",function(e){var t=e.currentTarget.parentElement.parentElement.querySelector("[data-undo-one]");e.currentTarget.parentElement.parentElement.querySelector('[data-adjust-bw="white"]').classList.remove("is-pressed"),e.currentTarget.parentElement.parentElement.querySelector('[data-adjust-bw="black"]').classList.remove("is-pressed"),t.classList.add("is-shown"),l-=5,0===l&&t.classList.remove("is-shown"),clickHandler(e,l,a)}),document.querySelector("[data-adjust-lighten-one]").addEventListener("click",function(e){var t=e.currentTarget.parentElement.parentElement.querySelector("[data-undo-one]");e.currentTarget.parentElement.parentElement.querySelector('[data-adjust-bw="white"]').classList.remove("is-pressed"),e.currentTarget.parentElement.parentElement.querySelector('[data-adjust-bw="black"]').classList.remove("is-pressed"),t.classList.add("is-shown"),l+=5,0===l&&t.classList.remove("is-shown"),clickHandler(e,l,a)}),document.querySelector("[data-adjust-darken-two]").addEventListener("click",function(e){var t=e.currentTarget.parentElement.parentElement.querySelector("[data-undo-two]");e.currentTarget.parentElement.parentElement.querySelector('[data-adjust-bw="white"]').classList.remove("is-pressed"),e.currentTarget.parentElement.parentElement.querySelector('[data-adjust-bw="black"]').classList.remove("is-pressed"),t.classList.add("is-shown"),o-=5,0===o&&t.classList.remove("is-shown"),clickHandler(e,o,n)}),document.querySelector("[data-adjust-lighten-two]").addEventListener("click",function(e){var t=e.currentTarget.parentElement.parentElement.querySelector("[data-undo-two]");e.currentTarget.parentElement.parentElement.querySelector('[data-adjust-bw="white"]').classList.remove("is-pressed"),e.currentTarget.parentElement.parentElement.querySelector('[data-adjust-bw="black"]').classList.remove("is-pressed"),t.classList.add("is-shown"),o+=5,0===o&&t.classList.remove("is-shown"),clickHandler(e,o,n)});var s=function(e){e.stopPropagation();var t=e.currentTarget,r=t.parentElement.parentElement.querySelector("input"),l=t.dataset.adjustBw,o=r.dataset.colorInput,s="one"===o?a:n,c="one"===o?"[data-undo-one]":"[data-undo-two]";"black"===l?"#000000"===r.value?(r.parentElement.querySelector(c).classList.remove("is-shown"),t.classList.remove("is-pressed"),r.value=s):(e.currentTarget.classList.add("is-pressed"),r.value="#000000"):"white"===l&&("#FFFFFF"===r.value?(r.parentElement.querySelector(c).classList.remove("is-shown"),t.classList.remove("is-pressed"),r.value=s):(e.currentTarget.classList.add("is-pressed"),r.value="#FFFFFF")),updateAll()};[].concat(_toConsumableArray(document.querySelectorAll("[data-adjust-bw]"))).forEach(function(e){e.addEventListener("click",function(e){s(e)})})};